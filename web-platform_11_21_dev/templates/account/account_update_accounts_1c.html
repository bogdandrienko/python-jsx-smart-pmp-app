{% extends "components/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% load crispy_forms_filters %}

<!-- Head -->
{% block head %}
    {% include 'components/navbar.html' %}
{% endblock head %}

<!-- Title -->
{% block title %}
    Обновить пользователей из 1С
{% endblock title %}

<!-- Style -->
{% block style %}{% endblock style %}

<!-- Header -->
{% block header %}{% endblock header %}

<!-- Main -->
{% block main %}
<main class="container-fluid mx-auto text-center d-block">

{% if result %}

    {% include 'components/success.html' %}

    {% if data %}

        {% include 'components/table.html' %}

    {% else %}

        {% include 'components/aborted.html' %}

    {% endif %}

{% else %}

        <div class="text-white rounded bg-dark">
            <h1 class="display-6 fst-italic">Обновить пользователей из 1С</h1>
            <p class="text-secondary">Эта страница содержит форму для обновления пользователей из внутренней базы 1С.</p>
        </div>

        <form action="{% url 'account_update_accounts_1c' %}"
              method="POST"
              target="_self"
              enctype="multipart/form-data"
              name="account_update_accounts_1c"
              autocomplete="on"
              class=""
        >
            {% csrf_token %}
            <div>
                <label class="form-control-lg">
                    Нажмите, чтобы обновить пользователей системы из базы данных 1С:
                    <small class="text-muted">данные обновленных пользователей будут доступны в виде таблицы</small>
                </label>
            </div>
            <div class="btn-group btn-group-lg">
                <button href=""
                        type="submit"
                        class="w-100 form-control btn btn-lg btn-outline-primary"
                >Обновить</button>
            </div>
        </form>

{% endif %}

</main>
{% endblock main %}

<!-- Footer -->
{% block footer %}
    {% include 'components/footer.html' %}
{% endblock footer %}

<!-- Script -->
{% block script %}{% endblock script %}
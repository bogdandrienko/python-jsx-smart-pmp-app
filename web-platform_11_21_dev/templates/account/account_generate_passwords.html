{% extends "components/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% load crispy_forms_filters %}

<!-- Head -->
{% block head %}
    {% include 'components/navbar.html' %}
{% endblock head %}

<!-- Title -->
{% block title %}
    Сгенерировать пароли
{% endblock title %}

<!-- Style -->
{% block style %}{% endblock style %}

<!-- Header -->
{% block header %}{% endblock header %}

<!-- Main -->
{% block main %}
<main class="container-fluid mx-auto text-center d-block">

{% if result %}

    {% include 'components/success.html' %}
    <div class="rounded">
        <a class="btn btn-lg btn-outline-success" href="{% static 'media/data/account/generate_passwords.xlsx' %}">Скачать результат генерации</a>
    </div>

    {% if data %}

        {% include 'components/table.html' %}

    {% else %}

        {% include 'components/aborted.html' %}

    {% endif %}

{% else %}

        {% if form_1 %}

            <div class="text-white rounded bg-dark">
                <h1 class="display-6 fst-italic">Сгенерировать пароли</h1>
                <p class="text-secondary">Эта страница содержит форму для генерации паролей.</p>
            </div>

            <form class=""
                  action="{% url 'account_generate_passwords' %}"
                  method="POST"
                  target="_self"
                  enctype="multipart/form-data"
                  name="account_change_password"
                  autocomplete="on"
            >
                {% csrf_token %}
                <div>
                    <div>
                        <label class="form-control-lg">
                            Разрешённые символы для генерации:
                            <input class="form-control form-control-lg"
                                   type="text"
                                   id="passwords_chars"
                                   name="passwords_chars"
                                   required=""
                                   placeholder="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"
                                   value="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"
                                   minlength="1"
                                   maxlength="64"/>
                            <small class="text-muted">количество: от 1 до 64 символов</small>
                        </label>
                    </div>
                    <div>
                        <label class="form-control-lg">
                            Введите количество генерируемых паролей:
                            <input class="form-control form-control-lg"
                                   type="text"
                                   id="passwords_quantity"
                                   name="passwords_quantity"
                                   required=""
                                   placeholder="1"
                                   value="1"
                                   min="1"
                                   max="100"/>
                            <small class="text-muted">количество: от 1 до 100 штук</small>
                        </label>

                        <label class="form-control-lg">
                            Введите длину генерируемых паролей:
                            <input class="form-control form-control-lg"
                                   type="text"
                                   id="passwords_length"
                                   name="passwords_length"
                                   required=""
                                   placeholder="8"
                                   value="8"
                                   min="8"
                                   max="16"/>
                            <small class="text-muted">длина: от 8 до 16 символов</small>
                        </label>
                    </div>
                </div>
                <div class="btn-group btn-group-lg">
                    <button href=""
                            type="submit"
                            class="w-100 form-control btn btn-lg btn-outline-primary">Подтвердить</button>
                    <button href=""
                            type="reset"
                            class="w-100 form-control btn btn-lg btn-outline-warning">Сбросить данные</button>
                </div>
            </form>

        {% else %}

            {% include 'components/aborted.html' %}

        {% endif %}

{% endif %}

</main>
{% endblock main %}

<!-- Footer -->
{% block footer %}
    {% include 'components/footer.html' %}
{% endblock footer %}

<!-- Script -->
{% block script %}{% endblock script %}







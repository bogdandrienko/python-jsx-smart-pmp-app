{% extends "components/base.html" %}
{% load static %}

<!-- Head -->
{% block head %}
    {% include 'components/navbar.html' %}
{% endblock head %}

<!-- Title -->
{% block title %}
    Создание/изменение пользователей
{% endblock title %}

<!-- Style -->
{% block style %}{% endblock style %}

<!-- Header -->
{% block header %}{% endblock header %}

<!-- Main -->
{% block main %}



<div class="text-center">
    <h1 class="display-6 fst-italic">Создание/изменение пользователей</h1>
    <small class="text-secondary">Эта страница содержит шаблон и форму для создания или изменения пользователей.</small>
</div>

{% if response == 0 %}

    <div class="text-center">
        <a class="btn btn-lg btn-outline-success"
           href="{% static 'media/admin/account/create_users.xlsx' %}"
        >Скачать шаблон для заполнения</a>
    </div>

    <form action="{% url 'account_create_or_change_accounts' %}"
          method="POST"
          target="_self"
          enctype="multipart/form-data"
          name="account_create_or_change_accounts many"
          autocomplete="on"
          class="text-center"
    >
        {% csrf_token %}
        <div>
            <div>
                <label class="form-control-lg">
                    Заполненный шаблон для создания пользователей:
                    <input type="file"
                           id="excel_file"
                           name="excel_file"
                           required=""
                           accept=".xlsx, .xls"
                           class="form-control form-control-lg"
                    />
                    <small class="text-muted">шаблон: заполненный excel-шаблон с пользователями (xlsx/xls)</small>
                </label>
            </div>

            <div>
                <label class="form-check-label form-control-lg" for="force_change_account">
                    Перезаписать данные уже существующего пользователя?
                    <div class="form-switch">
                        <input type="checkbox"
                               id="force_change_account"
                               name="force_change_account"
{#                                               required=""#}
                               value=""
{#                                               checked="checked"#}
                               class="form-check-input"
                        />
                    </div>
                    <small class="text-muted">отметьте, если нужно заменить данные</small>
                </label>

                <label class="form-check-label form-control-lg" for="force_change_password">
                    Перезаписать пароль уже существующего пользователя?
                    <div class="form-switch">
                        <input type="checkbox"
                               id="force_change_password"
                               name="force_change_password"
{#                                               required=""#}
                               value=""
{#                                               checked="checked"#}
                               class="form-check-input"
                        />
                    </div>
                    <small class="text-muted">отметьте, если нужно заменить пароль</small>
                </label>

                <label class="form-check-label form-control-lg" for="force_clear_groups">
                    Очистить группы уже существующего пользователя?
                    <div class="form-switch">
                        <input type="checkbox"
                               id="force_clear_groups"
                               name="force_clear_groups"
{#                                               required=""#}
                               value=""
{#                                               checked="checked"#}
                               class="form-check-input"
                        />
                    </div>
                    <small class="text-muted">отметьте, если нужно очистить группы</small>
                </label>
            </div>
        </div>
        <hr/>
        <!-- Grid row -->
        <div class="container-fluid btn-group row pb-1">
            <!-- Grid column -->
            <div class="col-lg-6">
                <button href=""
                        type="submit"
                        class="w-100 form-control btn btn-lg btn-outline-primary"
                >Подтвердить</button>
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-lg-6">
                <button href=""
                        type="reset"
                        class="w-100 form-control btn btn-lg btn-outline-warning"
                >Сбросить</button>
            </div>
            <!-- Grid column -->
        </div>
        <!-- Grid row -->
    </form>

{% elif response == 1 %}

    {% include 'components/success.html' %}

{% elif response == -1 %}

    {% include 'components/aborted.html' %}

{% endif %}



{% endblock main %}

<!-- Footer -->
{% block footer %}
    {% include 'components/footer.html' %}
{% endblock footer %}

<!-- Script -->
{% block script %}{% endblock script %}
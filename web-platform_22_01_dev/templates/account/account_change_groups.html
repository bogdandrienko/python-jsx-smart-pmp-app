{% extends "components/base.html" %}
{% load static %}

<!-- Head -->
{% block head %}
    {% include 'components/navbar.html' %}
{% endblock head %}

<!-- Title -->
{% block title %}
    Изменить группы
{% endblock title %}

<!-- Style -->
{% block style %}{% endblock style %}

<!-- Header -->
{% block header %}{% endblock header %}

<!-- Main -->
{% block main %}



<div class="text-center">
    <h1 class="display-6 fst-italic">Изменить группы</h1>
    <small class="text-secondary">Эта страница содержит форму для изменения групп пользователей.</small>
</div>

{% if response == 1 %}

    {% include 'components/success.html' %}

{% elif response == -1 %}

    {% include 'components/aborted.html' %}

{% else %}

    <div class="accordion" id="accordionExample">
        <div class="accordion-item">
            <h2 class="accordion-header" id="accordion_heading_1">
                <button
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#accordion_collapse_1"
                    aria-expanded="false"
                    aria-controls="accordion_collapse_1"
                >форма для создания действия и группы, и присоединения действия к группе</button>
            </h2>
            <div
                id="accordion_collapse_1"
                class="accordion-collapse collapse"
                aria-labelledby="accordion_collapse_1"
                data-bs-parent="#accordionExample"
            >
                <div class="accordion-body">

                    <form action="{% url 'account_change_groups' %}"
                          method="POST"
                          target="_self"
                          enctype="multipart/form-data"
                          name="account_change_groups"
                          autocomplete="on"
                          class="text-center"
                    >
                        {% csrf_token %}
                        <div>
                            <div>
                                <label class="form-control-lg">
                                    Название группы:
                                    <input type="text"
                                           id="group_name_char_field"
                                           name="group_name_char_field"
                                           required=""
                                           placeholder="Пользователь"
                                           value="Пользователь"
                                           minlength="1"
                                           maxlength="32"
                                           class="form-control form-control-lg"
                                    />
                                    <small class="text-muted">видимое имя группы, пример: "Пользователь"</small>
                                </label>

                                <label class="form-control-lg">
                                    Валидация группы:
                                    <input type="text"
                                           id="group_name_slug_field"
                                           name="group_name_slug_field"
                                           required=""
                                           placeholder="user"
                                           value="user"
                                           minlength="1"
                                           maxlength="32"
                                           class="form-control form-control-lg"
                                    />
                                    <small class="text-muted">валидируемое имя группы, пример: "user"</small>
                                </label>
                            </div>
                            <div>
                                <label class="form-control-lg">
                                    Название действия:
                                    <input type="text"
                                           id="action_name_char_field"
                                           name="action_name_char_field"
                                           required=""
                                           placeholder="Просмотр домашней страницы"
                                           value="Просмотр домашней страницы"
                                           minlength="1"
                                           maxlength="32"
                                           class="form-control form-control-lg"
                                    />
                                    <small class="text-muted">видимое имя действия, пример: "Просмотр домашней страницы"</small>
                                </label>

                                <label class="form-control-lg">
                                    Валидация действия:
                                    <input type="text"
                                           id="action_name_slug_field"
                                           name="action_name_slug_field"
                                           required=""
                                           placeholder="view_home_page"
                                           value="view_home_page"
                                           minlength="1"
                                           maxlength="32"
                                           class="form-control form-control-lg"
                                    />
                                    <small class="text-muted">валидируемое имя действия, пример: "view_home_page"</small>
                                </label>
                            </div>
                            <div>
                                <label class="form-control-lg">
                                    Выберите тип:
                                    <select type="select"
                                            id="type_select"
                                            name="type_select"
                                            required=""
{#                                            size="3"#}
{#                                            multiple="multiple"#}
                                            class="form-control form-control-lg"
                                    >
                                        <option value="add">Присоединить</option>
                                        <option value="remove">Отсоединить</option>
                                    </select>
                                    <small class="text-muted">нажмите и выберите один из элементов из выпадающего списка</small>
                                </label>
                            </div>
                        </div>

                        <hr/>
                        <!-- Grid row -->
                        <div class="container-fluid btn-group row pb-1">
                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <button href=""
                                        type="submit"
                                        class="w-100 form-control btn btn-lg btn-outline-primary"
                                >Подтвердить</button>
                            </div>
                            <!-- Grid column -->

                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <button href=""
                                        type="reset"
                                        class="w-100 form-control btn btn-lg btn-outline-warning"
                                >Сбросить</button>
                            </div>
                            <!-- Grid column -->
                        </div>
                        <!-- Grid row -->
                    </form>

                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="accordion_heading_2">
                <button
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#accordion_collapse_2"
                    aria-expanded="false"
                    aria-controls="accordion_collapse_2"
                >форма для присоединения/отсоединения действия к группе</button>
            </h2>
            <div
                id="accordion_collapse_2"
                class="accordion-collapse collapse"
                aria-labelledby="accordion_collapse_2"
                data-bs-parent="#accordionExample"
            >
                <div class="accordion-body">

                    <form action="{% url 'account_change_groups' %}"
                          method="POST"
                          target="_self"
                          enctype="multipart/form-data"
                          name="account_create_accounts one"
                          autocomplete="on"
                          class="text-center"
                    >
                        {% csrf_token %}
                        <div>
                            <label class="form-control-lg">
                                Выберите действие, которое нужно присоединить к группе:
                                <select type="select"
                                        id="action"
                                        name="action"
                                        required=""
{#                                        size="3"#}
{#                                        multiple="multiple"#}
                                        class="form-control form-control-lg"
                                >
                                    <option selected disabled>Выберите действие</option>
                                    {% for action in actions %}
                                        <option value="{{ action.name_slug_field }}">{{ action.name_char_field }} [{{ action.name_slug_field }}]</option>
                                    {% endfor %}
                                </select>
                                <small class="text-muted">нажмите и выберите один из элементов из выпадающего списка</small>
                            </label>

                            <label class="form-control-lg">
                                Выберите группу, к которой нужно присоединить действие:
                                <select type="select"
                                        id="group"
                                        name="group"
                                        required=""
{#                                        size="3"#}
{#                                        multiple="multiple"#}
                                        class="form-control form-control-lg"
                                >
                                    <option selected disabled>Выберите группу</option>
                                    {% for group in groups %}
                                        <option value="{{ group.name_slug_field }}">{{ group.name_char_field }} [{{ group.name_slug_field }}]</option>
                                    {% endfor %}
                                </select>
                                <small class="text-muted">нажмите и выберите один из элементов из выпадающего списка</small>
                            </label>

                            <label class="form-control-lg">
                                Выберите тип:
                                <select type="select"
                                        id="type_select"
                                        name="type_select"
                                        required=""
{#                                        size="3"#}
{#                                        multiple="multiple"#}
                                        class="form-control form-control-lg"
                                >
                                    <option value="add">Присоединить</option>
                                    <option value="remove">Отсоединить</option>
                                </select>
                                <small class="text-muted">нажмите и выберите один из элементов из выпадающего списка</small>
                            </label>
                        </div>

                        <hr/>
                        <!-- Grid row -->
                        <div class="container-fluid btn-group row pb-1">
                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <button href=""
                                        type="submit"
                                        class="w-100 form-control btn btn-lg btn-outline-primary"
                                >Подтвердить</button>
                            </div>
                            <!-- Grid column -->

                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <button href=""
                                        type="reset"
                                        class="w-100 form-control btn btn-lg btn-outline-warning"
                                >Сбросить</button>
                            </div>
                            <!-- Grid column -->
                        </div>
                        <!-- Grid row -->
                    </form>

                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="accordion_heading_3">
                <button
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#accordion_collapse_3"
                    aria-expanded="false"
                    aria-controls="accordion_collapse_3"
                >форма для присоединения/отсоединения пользователя к группе</button>
            </h2>
            <div
                id="accordion_collapse_3"
                class="accordion-collapse collapse"
                aria-labelledby="accordion_collapse_3"
                data-bs-parent="#accordionExample"
            >
                <div class="accordion-body">

                    <form action="{% url 'account_change_groups' %}"
                          method="POST"
                          target="_self"
                          enctype="multipart/form-data"
                          name="account_create_accounts one"
                          autocomplete="on"
                          class="text-center"
                    >
                        {% csrf_token %}
                        <div>
                            <label class="form-control-lg">
                                Выберите пользователя, которого нужно присоединить к группе:
                                <select type="select"
                                        id="username"
                                        name="username"
                                        required=""
{#                                        size="3"#}
{#                                        multiple="multiple"#}
                                        class="form-control form-control-lg"
                                >
                                    <option selected disabled>Выберите пользователя</option>
                                    {% for user in users %}
                                        <option value="{{ user.user_foreign_key_field.username }}">{{ user.last_name_char_field }} {{ user.first_name_char_field }} {{ user.patronymic_char_field }}</option>
                                    {% endfor %}
                                </select>
                                <small class="text-muted">нажмите и выберите один из элементов из выпадающего списка</small>
                            </label>

                            <label class="form-control-lg">
                                Выберите группу, к которой нужно присоединить пользователя:
                                <select type="select"
                                        id="group"
                                        name="group"
                                        required=""
{#                                        size="3"#}
{#                                        multiple="multiple"#}
                                        class="form-control form-control-lg"
                                >
                                    <option selected disabled>Выберите группу</option>
                                    {% for group in groups %}
                                        <option value="{{ group.name_slug_field }}">{{ group.name_char_field }} [{{ group.name_slug_field }}]</option>
                                    {% endfor %}
                                </select>
                                <small class="text-muted">нажмите и выберите один из элементов из выпадающего списка</small>
                            </label>

                            <label class="form-control-lg">
                                Выберите тип:
                                <select type="select"
                                        id="type_select"
                                        name="type_select"
                                        required=""
{#                                        size="3"#}
{#                                        multiple="multiple"#}
                                        class="form-control form-control-lg"
                                >
                                    <option value="add">Присоединить</option>
                                    <option value="remove">Отсоединить</option>
                                </select>
                                <small class="text-muted">нажмите и выберите один из элементов из выпадающего списка</small>
                            </label>
                        </div>

                        <hr/>
                        <!-- Grid row -->
                        <div class="container-fluid btn-group row pb-1">
                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <button href=""
                                        type="submit"
                                        class="w-100 form-control btn btn-lg btn-outline-primary"
                                >Подтвердить</button>
                            </div>
                            <!-- Grid column -->

                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <button href=""
                                        type="reset"
                                        class="w-100 form-control btn btn-lg btn-outline-warning"
                                >Сбросить</button>
                            </div>
                            <!-- Grid column -->
                        </div>
                        <!-- Grid row -->
                    </form>

                </div>
            </div>
        </div>
    </div>




















{% endif %}



{% endblock main %}

<!-- Footer -->
{% block footer %}
    {% include 'components/footer.html' %}
{% endblock footer %}

<!-- Script -->
{% block script %}{% endblock script %}